{{- if .Site.Params.chatbot.enabled }}
<!-- Chatbot Configuration and Script -->
<script>
window.chatbotConfig = {
    enabled: {{ .Site.Params.chatbot.enabled }},
    apiKey: "{{ .Site.Params.chatbot.apiKey | default "" }}",
    model: "{{ .Site.Params.chatbot.model | default "gemini-1.5-flash" }}",
    proxyMode: {{ .Site.Params.chatbot.proxyMode | default false }},
    proxyUrl: "{{ .Site.Params.chatbot.proxyUrl | default "" }}"
};

// Check if API key is available
if (!window.chatbotConfig.apiKey && !window.chatbotConfig.proxyMode) {
    console.warn('Chatbot: API key not configured. Please set up GEMINI_API_KEY secret in GitHub.');
}
</script>
<script src="{{ "js/chatbot.js" | absURL }}"></script>
{{- end }}
